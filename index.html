<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SÃ¼per Esnek Not OrtalamasÄ± HesaplayÄ±cÄ±</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for a modern look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body class="bg-gray-100 py-10">

    <div class="w-full max-w-3xl mx-auto bg-white p-8 rounded-2xl shadow-lg">
        <div class="text-center mb-6">
            <h1 class="text-3xl font-bold text-gray-800">AÄŸÄ±rlÄ±klÄ± YÄ±l Sonu Not OrtalamasÄ± HesaplayÄ±cÄ±</h1>
            <p class="text-gray-500 mt-2">Bu araÃ§, 2025-2026 eÄŸitim yÄ±lÄ± ve sonrasÄ± iÃ§in uyumludur.</p>
            <p class="text-sm text-red-600 mt-1">PuanÄ±nÄ± boÅŸ bÄ±raktÄ±ÄŸÄ±nÄ±z dersler iÃ§in hesaplamalarda <strong>0 puan</strong> kullanÄ±lacaktÄ±r.</p>
        </div>

        <form id="ortalamaForm">
            <!-- Zorunlu Dersler -->
            <h2 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">Zorunlu Dersler</h2>
            <div id="zorunluDerslerContainer" class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 mb-8">
                <!-- Dersler JavaScript ile buraya eklenecek -->
            </div>

            <!-- SeÃ§meli Dersler -->
            <h2 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">SeÃ§meli Dersler</h2>
            <div id="secmeliDerslerContainer" class="space-y-4 mb-8">
                <!-- SeÃ§meli dersler JavaScript ile buraya eklenecek -->
            </div>

            <!-- Hesapla Butonu -->
            <button type="submit" class="w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-300">
                OrtalamayÄ± Hesapla
            </button>
        </form>

        <!-- SonuÃ§ AlanÄ± -->
        <div id="sonucGoster" class="mt-8 p-6 rounded-lg text-center font-bold text-xl bg-indigo-50 text-indigo-800 hidden">
            <!-- SonuÃ§lar buraya gelecek -->
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- TÃœM DERSLER SEÃ‡ENEKLÄ° HALE GETÄ°RÄ°LDÄ° ---
            const zorunluDerslerListesi = [
                { ad: 'Beden EÄŸitimi', krediSecenekleri: [0, 2] },
                { ad: 'Din KÃ¼ltÃ¼rÃ¼', krediSecenekleri: [0, 2] },
                { ad: 'Fen Bilimleri', krediSecenekleri: [0, 4] },
                { ad: 'GÃ¶rsel Sanatlar', krediSecenekleri: [0, 1] },
                { ad: 'Matematik', krediSecenekleri: [0, 5] },
                { ad: 'MÃ¼zik', krediSecenekleri: [0, 1] },
                { ad: 'Sosyal Bilgiler', krediSecenekleri: [0, 2, 3] },
                { ad: 'Tekno. ve TasarÄ±m', krediSecenekleri: [0, 2] },
                { ad: 'TÃ¼rkÃ§e', krediSecenekleri: [0, 5, 6] },
                { ad: 'YabancÄ± Dil', krediSecenekleri: [0, 2, 3, 4] }
            ];

            const zorunluDerslerContainer = document.getElementById('zorunluDerslerContainer');
            const secmeliDerslerContainer = document.getElementById('secmeliDerslerContainer');
            const ortalamaForm = document.getElementById('ortalamaForm');
            const sonucGoster = document.getElementById('sonucGoster');

            // --- DERS OLUÅTURMA MANTIÄI ARTIK TEK TÄ°P ---
            zorunluDerslerListesi.forEach(ders => {
                const dersId = ders.ad.toLowerCase().replace(/[^a-z0-9]/g, '-');
                const dersElementi = document.createElement('div');
                dersElementi.className = 'flex items-center justify-between ders-satiri';

                const optionsHTML = ders.krediSecenekleri.map(kredi => {
                    if (kredi === 0) {
                        return `<option value="0">Ders Yok</option>`;
                    }
                    return `<option value="${kredi}">${kredi} Saat</option>`;
                }).join('');

                dersElementi.innerHTML = `
                    <label for="${dersId}-not" class="text-sm font-medium text-gray-700">${ders.ad}:</label>
                    <div class="flex items-center space-x-2">
                        <select id="${dersId}-kredi" class="block w-24 px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            ${optionsHTML}
                        </select>
                        <input type="number" id="${dersId}-not" min="0" max="100" step="0.01" class="w-32 px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Not">
                    </div>
                `;
                zorunluDerslerContainer.appendChild(dersElementi);
            });

            // 5 adet seÃ§meli ders alanÄ± ekle
            for (let i = 1; i <= 5; i++) {
                const secmeliElementi = document.createElement('div');
                secmeliElementi.className = 'flex items-center justify-between space-x-4 p-2 bg-gray-50 rounded-lg';
                secmeliElementi.innerHTML = `
                     <label class="text-sm font-medium text-gray-700">${i}. SeÃ§meli Ders:</label>
                     <div class="flex items-center space-x-2">
                        <select id="secmeli-kredi-${i}" class="secmeli-ders-kredi block w-48 px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="0">Ders SeÃ§iniz (0 Kredi)</option>
                            <option value="1">SeÃ§meli Ders (1 Saat)</option>
                            <option value="2">SeÃ§meli Ders (2 Saat)</option>
                            <option value="3">SeÃ§meli Ders (3 Saat)</option>
                            <option value="4">SeÃ§meli Ders (4 Saat)</option>
                        </select>
                        <input type="number" id="secmeli-not-${i}" min="0" max="100" step="0.01" class="secmeli-ders-notu w-32 px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Not">
                    </div>
                `;
                secmeliDerslerContainer.appendChild(secmeliElementi);
            }

            // Hesaplama mantÄ±ÄŸÄ±
            ortalamaForm.addEventListener('submit', (event) => {
                event.preventDefault();

                let toplamPuanKredi = 0;
                let toplamKredi = 0;

                // Zorunlu dersleri hesapla
                const dersSatirlari = document.querySelectorAll('#zorunluDerslerContainer .ders-satiri');
                dersSatirlari.forEach(satir => {
                    const krediSelect = satir.querySelector('select');
                    const notInput = satir.querySelector('input[type="number"]');
                    
                    let kredi = parseFloat(krediSelect.value);

                    if (kredi > 0) { // Sadece kredisi 0'dan bÃ¼yÃ¼k olan dersleri hesaba kat
                        const not = parseFloat(notInput.value) || 0;
                        toplamKredi += kredi;
                        toplamPuanKredi += not * kredi;
                    }
                });

                // SeÃ§meli dersleri hesapla
                for (let i = 1; i <= 5; i++) {
                    const kredi = parseFloat(document.getElementById(`secmeli-kredi-${i}`).value);
                    if (kredi > 0) {
                        const not = parseFloat(document.getElementById(`secmeli-not-${i}`).value) || 0;
                        toplamKredi += kredi;
                        toplamPuanKredi += not * kredi;
                    }
                }

                // OrtalamayÄ± hesapla ve gÃ¶ster
                const ortalama = toplamKredi > 0 ? toplamPuanKredi / toplamKredi : 0;
                
                let belgeDurumu = '';
                if (ortalama >= 85) {
                    belgeDurumu = '<span class="block mt-2 text-2xl text-green-600">ğŸ† Takdir Belgesi</span>';
                } else if (ortalama >= 70) {
                    belgeDurumu = '<span class="block mt-2 text-2xl text-blue-600">ğŸ… TeÅŸekkÃ¼r Belgesi</span>';
                } else {
                    belgeDurumu = '<span class="block mt-2 text-xl text-red-600">Bu dÃ¶nem belge alamadÄ±nÄ±z.</span>';
                }

                sonucGoster.innerHTML = `
                    AÄŸÄ±rlÄ±klÄ± YÄ±l Sonu OrtalamanÄ±z: <span class="text-3xl">${ortalama.toFixed(2)}</span>
                    <span class="block mt-1 text-base font-normal text-gray-600">Toplam Kredi: ${toplamKredi}</span>
                    ${belgeDurumu}
                `;
                sonucGoster.classList.remove('hidden');
                
                sonucGoster.scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>
